# SPDX-License-Identifier: Apache-2.0
# nano-ros Zephyr Service Server Example (Rust)
#
# A ROS 2 compatible service server running on Zephyr RTOS.

[package]
# Name must be "rustapp" for zephyr-lang-rust integration
name = "rustapp"
version = "0.1.0"
edition = "2021"
description = "nano-ros service server for Zephyr RTOS"
license = "Apache-2.0"

[lib]
crate-type = ["staticlib"]

[dependencies]
# Zephyr support from zephyr-lang-rust module
zephyr = "0.1.0"
log = "0.4"

# nano-ros crates (patched to local via .cargo/config.toml)
nano-ros-core = { version = "*", default-features = false }
nano-ros-serdes = { version = "*", default-features = false }

# zenoh-pico shim (patched to local via .cargo/config.toml)
# Zephyr feature: FFI declarations only, C code compiled by Zephyr's build system
zenoh-pico-shim = { version = "*", default-features = false, features = ["zephyr"] }

# Generated message types (patched to local via .cargo/config.toml)
example_interfaces = { version = "*", default-features = false }

[features]
default = []

[profile.release]
opt-level = "s"
lto = true
debug = false
